async function collectDataAndSend() {
    const webhookURL = "#";
    
    const cookiesEnabled = navigator.cookieEnabled ? "Enabled" : "Disabled";
    const indexedDBEnabled = window.indexedDB ? "Enabled" : "Disabled";
    const darkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? "Enabled" : "Disabled";
    const platform = navigator.platform;
    const userAgent = navigator.userAgent;
    const browserVersion = navigator.appVersion;
    const webkitInfo = navigator.productSub || "Unknown";
    
    let gpuInfo = "Unknown";
    try {
        const canvas = document.createElement('canvas');
        const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
        if (gl) {
            const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
            gpuInfo = debugInfo ? gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL) : "Unavailable";
        }
    } catch (error) {
        gpuInfo = "Unavailable";
    }
    
    let storageInfo = "Unknown";
    if (navigator.storage && navigator.storage.estimate) {
        const { quota, usage } = await navigator.storage.estimate();
        storageInfo = `Used: ${(usage / 1e9).toFixed(2)}GB / Total: ${(quota / 1e9).toFixed(2)}GB`;
    }
    
    let ramInfo = navigator.deviceMemory ? `${navigator.deviceMemory}GB` : "Unknown";
    
    let cpuInfo = "Unknown";
    if (navigator.hardwareConcurrency) {
        cpuInfo = `${navigator.hardwareConcurrency} Cores`;
    }
    
    let ipAddress = "Unknown";
    let locationInfo = "Unknown";
    try {
        const response = await fetch("https://api.ipify.org?format=json");
        const data = await response.json();
        ipAddress = data.ip;
        
        const locationResponse = await fetch(`https://ipapi.co/${ipAddress}/json/\`);
        const locationData = await locationResponse.json();
        locationInfo = `${locationData.city}, ${locationData.region}, ${locationData.country_name}`;
    } catch (error) {
        locationInfo = "Location Unavailable";
    }
    
    const embed = {
        "embeds": [{
            "title": "Fortitude â€¢ Analytical Data",
            "description": "New Visitor accessed the website!",
            "color": 0x111a22,
            "fields": [
                { "name": "IP Address:", "value": ipAddress, "inline": false },
                { "name": "Cookies Enabled:", "value": cookiesEnabled, "inline": true },
                { "name": "Indexed DB:", "value": indexedDBEnabled, "inline": true },
                { "name": "Dark Mode:", "value": darkMode, "inline": true },
                { "name": "General Location Info:", "value": locationInfo, "inline": false },
                { "name": "Platform / OS:", "value": platform, "inline": true },
                { "name": "CPU Info:", "value": cpuInfo, "inline": true },
                { "name": "GPU Info:", "value": gpuInfo, "inline": true },
                { "name": "Storage Info:", "value": storageInfo, "inline": true },
                { "name": "RAM Info:", "value": ramInfo, "inline": true },
                { "name": "Browser Version:", "value": browserVersion, "inline": false },
                { "name": "WebKit Info:", "value": webkitInfo, "inline": true },
                { "name": "UserAgent Info:", "value": userAgent, "inline": false }
            ],
            "footer": { "text": "Generated by Fortitude Analytics" }
        }]
    };
    
    fetch(webhookURL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(embed)
    }).catch(err => console.error("Error sending data to Discord:", err));
}

collectDataAndSend();